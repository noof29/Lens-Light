<!DOCTYPE html>
<html>
    <head>
        <!-- Web page name -->
        <title>Calculation</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
        <!-- Social icons -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
        <!-- External CSS -->
        <link href="styles.css" rel="stylesheet"/>
        <!-- Document-level CSS -->
        <style>
            /* Sets the background color for the entire page */
            body { background-color: whitesmoke; }
            
            /* Styles the main content container */
            .container {
                max-width: 800px;                            /* Maximum width of the container */
                margin: 30px auto;                           /* Centers the container with vertical spacing */
                padding: 30px;                               /* Inner spacing for the container */
                background: #fff;                          /* White background for the container */
                border-radius: 10px;                         /* Rounds the corners */
                box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);   /* Add shadow for the container */
            }
            
            /* Styles for the heading element */
            h2 {
                text-align: center;                          /* Centers the text */
                font-weight: bold;                           /* Makes the text bold */
                color: #333;                               /* Dark gray color for the text */
            }
            
            /* Styles for a group of buttons */
            .button-group {
                display: flex;                               /* Arranges buttons in a row */
                gap: 14px;                                   /* Spacing between buttons */
                justify-content: center;                     /* Centers the button group */
                margin: 20px 0;                              /* Vertical spacing */
            }

            /* Styles for individual buttons */
            .btn {
                font-size: 16px;                             /* Button text size */
                background-color: white;                   /* Default button background color */
                border: 1px solid rgb(51, 52, 57);        /* Adds a border with specific color */
                color: rgb(51, 52, 57);                   /* Default text color for the button */
            }
            
            /* Changes the button style on hover */
            .btn:hover {
                background-color: rgb(51, 52, 57);        /* Changes background to a darker color */
                color: white;                              /* Changes text color to white */
            }
            
            /* Adds spacing for the bill container section */
            #bill-container { margin-top: 20px; }
            
            /* Styles for formTable */
            .formTable {
                width: 100%;                                 /* Makes the table stretch across its container */
                margin: 10px 10px;                           /* Adds spacing for the table */
            }

            /* Margin for labels */
            label {
                margin-bottom: 10px;
            }

            /* Styling for input fields */
            .form-select, input[type='text'], input[type='tel'] {
                width: 100%;
                border-radius: 7px;
                margin-bottom: 10px;
                padding: 5px 5px;
                margin-left: 50px;
                height: 50px;
            }

            /* Styles for table */
            #billTable {
                width: 100%;                                 /* Makes the table stretch across its container */
                border-collapse: collapse;                   /* Removes spacing between table cells */
                margin-top: 20px;                            /* Adds top spacing for the table */
            }
            
            /* Styles for table headers and cells */
            #billTable th, #billTable td {
                border: 1px solid #ccc;                    /* Adds a border to each cell */
                padding: 10px;                               /* Inner spacing within each cell */
                text-align: left;                            /* Aligns text to the left */
            }
            
            /* Styles specifically for table headers */
            #billTable th { background-color: #f8f8f8; }        /* Light gray background for headers */
        </style>
        <!-- Header with Logo and Navigation -->
        <header>
            <div class="container-fluid d-flex justify-content-between align-items-center p-3">
                <!-- Logo and Website name on the Left -->
                <div class="d-flex align-items-center">
                    <img src="logo.png" alt="Logo" width="100" height="120" class="me-2">
                    <h1>LENS AND LIGHT</h1>
                </div>
                
                <!-- Navigation Links on the Right -->
                 <nav class="navbar navbar-expand-sm">
                    <ul class="navbar-nav">
                        <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
                        <li class="nav-item"><a class="nav-link" href="portfolio.html">Portfolio</a></li>
                        <li class="nav-item"><a class="nav-link" href="booking.html">Booking</a></li>
                        <li class="nav-item"><a class="nav-link" href="store.html">Store</a></li>
                        <li class="nav-item"><a class="nav-link active">Calculation</a></li>
                        <li class="nav-item"><a class="nav-link" href="contactus.html">Contact us</a></li>
                        <li class="nav-item"><a class="nav-link" href="#">Questionnaire</a></li>
                        <li class="nav-item"><a class="nav-link" href="#">Fun</a></li>
                        <li class="nav-item"><a class="nav-link" href="about us.html">About us</a></li>
                    </ul>
                </nav>
            </div>
        </header>
        <script>
            //This function creates product object
            function Product(id, brand, description, price) {
                this.id = id; this.brand = brand;
                this.description = description; this.price = price;
            }
            
            //Construct an array for product objects
            const products = [
                new Product(1, "CANON", "Canon EOS 250D SLR Camera Body Black With EF-S 18-55MM F3.5-5.6 III & EF 75-300MMF4-5.6 III Lens", 279.901),
                new Product(2, "NIKON", "Nikon Z30 Digital Camera Black With 16-50mm F/3.5-6.3 Vlogger Kit", 449.880),
                new Product(3, "CANON", "Canon Zoemini S2 ZV223 Instant Camera Colour Photo Printer", 37.550),
                new Product(4, "CANON", "Canon CP1500BK Photo Printer", 49.900),
                new Product(5, "CANON", "Canon EF 50MM F/1.8 STM Camera Lens", 62.579),
                new Product(6, "LEXAR", "Lexar 128GB SDXC Card 1667X Professional", 10.900)
            ];
            
            //Tracks number of items
            var itemsCount = 6;
            var countEmpty = 0;
            
            //This function calculates total cost and displays the bill
            function calculateBill() {
                //Initialize total to 0
                var total = 0;
                //Initialize discountRate to 0
                var discountRate = 0;

                //Get age value
                const age = document.getElementById("age").value;
                
                //Check the age if it is within the range
                if (age >= 20 && age <= 25) {
                    //Assign discountRate to 0.10
                    discountRate = 0.10;
                }

                //Create table element
                const table = document.createElement("table");
                table.id = "billTable";
                
                //Set headings to the table
                table.innerHTML = `
                <tr>
                    <th>Description</th>
                    <th>Quantity</th>
                    <th>Price per Unit</th>
                    <th>Discounted Price</th>
                    <th>Total</th>
                </tr>`;
                
                //Loop through all items
                for (let i = 1; i <= itemsCount; i++) {
                    //Get item ID by id
                    const itemID = parseInt(document.getElementById(`item${i}ID`).value);
                    //Get quantity value by id
                    const quantity = parseInt(document.getElementById(`item${i}Qty`).value);

                    //Validate item selection
                    if (!itemID || !quantity) {
                        countEmpty++;
                    }
                    else {
                        //Initialize foundProduct to null
                        var foundProduct = null;
                        //Checks if the item id is exist in products array
                        for (var product of products) {
                            if (product.id == itemID) {
                                foundProduct = product; //Assign foundProduct to the product
                            }
                        }

                        //Calculates discounted price
                        const discountedPrice = foundProduct.price * (1 - discountRate);
                        //Calculates total price
                        const totalPrice = discountedPrice * quantity;
                        total += totalPrice;
                        
                        //Creates a row for each item
                        const row = document.createElement("tr");
                        row.innerHTML = `
                        <td>${foundProduct.description}</td>
                        <td>${quantity}</td>
                        <td>${foundProduct.price.toFixed(3)}</td>
                        <td>${discountedPrice.toFixed(3)}</td>
                        <td>${totalPrice.toFixed(3)}</td>`;
                        
                        //Appends the row to the table
                        table.appendChild(row);
                    }
                }

                if (countEmpty === 6) {
                    alert(`No items have been selected!`);
                    return;
                }
                
                //Point to the container
                const container = document.getElementById("bill-container");
                //Clear the previous content
                container.innerHTML = "";
                //Append the table to the container
                container.appendChild(table);
                //Print total amount
                document.getElementById("total-amount").innerHTML = `<br/>Total Amount: ${total.toFixed(3)} OMR`;
            }

            //Angular frame works >>> The header changes after specified time using $timeout service
            var app = angular.module('myApp', []);
            app.controller('myCtrl', function($scope, $timeout) {
                $scope.myHeader = "Welcome, dear customer!"; //First
                $timeout(function () {
                    $scope.myHeader = "Select your items and I will calculate the total for you right away!"; //Second
                }, 5000); });
        </script>
    </head>
    <body>
        <!-- Angular frame works: Displaying one header after another -->
        <div ng-app="myApp" ng-controller="myCtrl"><h3 style="text-align: center;">{{myHeader}}</h3></div>
        <div class="container">
            <!-- Heading for the calculator -->
            <h2>Bill Calculator</h2>
            <br/>
            <!-- Form -->
            <form action="processOrder.php" method="post">
                <!-- Table for items inputs code $ quantity fields -->
                <table id="formTable">
                    <!-- Row for customer name -->
                    <tr>
                        <th><label for="customerName">Customer Name:</label></th>
                        <td><input type="text" id="customerName" placeholder="Enter your name" name="name" maxlength="50" required/></td>
                    </tr>
                    <!-- Row for customer number -->
                    <tr>
                        <th><label for="customerNumber">Phone Number:</label></th>
                        <td><input type="tel" id="customerNumber" placeholder="xxxxxxxx" name="phone" pattern="[0-9]{8}" required/></td>
                    </tr>
                    <!-- Row for customer status -->
                    <tr>
                        <th><label for="status">Status:</label></th>
                        <td>
                            <select id="status" name="status" class="form-select" required>
                                <option value="">-</option>
                                <option value="s">Student</option>
                                <option value="e">Employee</option>
                                <option value="u">Unemployed</option>
                            </select>
                        </td>
                    </tr>
                    <!-- Row for customer location -->
                    <tr>
                        <th><label for="location">Location Address:</label></th>
                        <td>
                            <select id="location" name="location" class="form-select" required>
                                <option value="">-</option>
                                <option value="Muscat">Muscat</option>
                                <option value="ADakhiliyah">ADakhiliyah</option>
                                <option value="AlBatinah">AlBatinah</option>
                                <option value="ADhahirah">ADhahirah</option>
                                <option value="AlBuraymi">AlBuraymi</option>
                                <option value="AlSharqiyah">AlSharqiyah</option>
                                <option value="Musandam">Musandam</option>
                                <option value="AlWusta">AlWusta</option>
                                <option value="Dhofar">Dhofar</option>
                            </select>
                        </td>
                    </tr>
                    <!-- Row for the first item ID -->
                    <tr id="item1" >
                        <th><label for="item1ID">Item 1:</label></th>
                        <td>
                            <select id="item1ID" name="item1ID" class="form-select" required>
                                <option value="">-</option>
                                <option value="1">Canon EOS 250D SLR Camera Body Black</option>
                                <option value="2">Nikon Z30 Digital Camera Black</option>
                                <option value="3">Canon Zoemini S2 ZV223 Instant Camera Colour Photo Printer</option>
                                <option value="4">Canon CP1500BK Photo Printer</option>
                                <option value="5">Canon EF 50MM F/1.8 STM Camera Lens</option>
                                <option value="6">Lexar 128GB SDXC Card 1667X Professional</option>
                                <option value="7">Hama 4163 Stativ Star Tripod</option>
                            </select>
                        </td>
                    </tr>
                    <!-- Row for the first item quantity -->
                    <tr id="item1Q">
                        <th><label for="item1Qty">Item 1 Quantity:</label></th>
                        <td>
                            <select id="item1Qty" name="item1Qty" class="form-select">
                                <option value="0">-</option>
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5</option>
                                <option value="6">6</option>
                                <option value="7">7</option>
                                <option value="8">8</option>
                                <option value="9">9</option>
                                <option value="10">10</option>
                            </select>
                        </td>
                    </tr>
                    <!-- Row for the second item ID -->
                    <tr id="item2" >
                        <th><label for="item2ID">Item 2:</label></th>
                        <td>
                            <select id="item2ID" name="item2ID" class="form-select">
                                <option value="">-</option>
                                <option value="1">Canon EOS 250D SLR Camera Body Black</option>
                                <option value="2">Nikon Z30 Digital Camera Black</option>
                                <option value="3">Canon Zoemini S2 ZV223 Instant Camera Colour Photo Printer</option>
                                <option value="4">Canon CP1500BK Photo Printer</option>
                                <option value="5">Canon EF 50MM F/1.8 STM Camera Lens</option>
                                <option value="6">Lexar 128GB SDXC Card 1667X Professional</option>
                                <option value="7">Hama 4163 Stativ Star Tripod</option>
                            </select>
                        </td>
                    </tr>
                    <!-- Row for the second item quantity -->
                    <tr id="item2Q">
                        <th><label for="item2Qty">Item 2 Quantity:</label></th>
                        <td>
                            <select id="item2Qty" name="item2Qty" class="form-select">
                                <option value="0">-</option>
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5</option>
                                <option value="6">6</option>
                                <option value="7">7</option>
                                <option value="8">8</option>
                                <option value="9">9</option>
                                <option value="10">10</option>
                            </select>
                        </td>
                    </tr>
                    <!-- Row for the third item ID -->
                    <tr id="item3" >
                        <th><label for="item3ID">Item 3:</label></th>
                        <td>
                            <select id="item3ID" name="item3ID" class="form-select">
                                <option value="">-</option>
                                <option value="1">Canon EOS 250D SLR Camera Body Black</option>
                                <option value="2">Nikon Z30 Digital Camera Black</option>
                                <option value="3">Canon Zoemini S2 ZV223 Instant Camera Colour Photo Printer</option>
                                <option value="4">Canon CP1500BK Photo Printer</option>
                                <option value="5">Canon EF 50MM F/1.8 STM Camera Lens</option>
                                <option value="6">Lexar 128GB SDXC Card 1667X Professional</option>
                                <option value="7">Hama 4163 Stativ Star Tripod</option>
                            </select>
                        </td>
                    </tr>
                    <!-- Row for the third item quantity -->
                    <tr id="item3Q">
                        <th><label for="item3Qty">Item 3 Quantity:</label></th>
                        <td>
                            <select id="item3Qty" name="item3Qty" class="form-select">
                                <option value="0">-</option>
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5</option>
                                <option value="6">6</option>
                                <option value="7">7</option>
                                <option value="8">8</option>
                                <option value="9">9</option>
                                <option value="10">10</option>
                            </select>
                        </td>
                    </tr>
                    <!-- Row for the forth item ID -->
                    <tr id="item4" >
                        <th><label for="item4ID">Item 4:</label></th>
                        <td>
                            <select id="item4ID" name="item4ID" class="form-select">
                                <option value="">-</option>
                                <option value="1">Canon EOS 250D SLR Camera Body Black</option>
                                <option value="2">Nikon Z30 Digital Camera Black</option>
                                <option value="3">Canon Zoemini S2 ZV223 Instant Camera Colour Photo Printer</option>
                                <option value="4">Canon CP1500BK Photo Printer</option>
                                <option value="5">Canon EF 50MM F/1.8 STM Camera Lens</option>
                                <option value="6">Lexar 128GB SDXC Card 1667X Professional</option>
                                <option value="7">Hama 4163 Stativ Star Tripod</option>
                            </select>
                        </td>
                    </tr>
                    <!-- Row for the forth item quantity -->
                    <tr id="item4Q">
                        <th><label for="item4Qty">Item 4 Quantity:</label></th>
                        <td>
                            <select id="item4Qty" name="item4Qty" class="form-select">
                                <option value="0">-</option>
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5</option>
                                <option value="6">6</option>
                                <option value="7">7</option>
                                <option value="8">8</option>
                                <option value="9">9</option>
                                <option value="10">10</option>
                            </select>
                        </td>
                    </tr>
                    <!-- Row for the fifth item ID -->
                    <tr id="item5" >
                        <th><label for="item5ID">Item 5:</label></th>
                        <td>
                            <select id="item5ID" name="item5ID" class="form-select">
                                <option value="">-</option>
                                <option value="1">Canon EOS 250D SLR Camera Body Black</option>
                                <option value="2">Nikon Z30 Digital Camera Black</option>
                                <option value="3">Canon Zoemini S2 ZV223 Instant Camera Colour Photo Printer</option>
                                <option value="4">Canon CP1500BK Photo Printer</option>
                                <option value="5">Canon EF 50MM F/1.8 STM Camera Lens</option>
                                <option value="6">Lexar 128GB SDXC Card 1667X Professional</option>
                                <option value="7">Hama 4163 Stativ Star Tripod</option>
                            </select>
                        </td>
                    </tr>
                    <!-- Row for the fifth item quantity -->
                    <tr id="item5Q">
                        <th><label for="item5Qty">Item 5 Quantity:</label></th>
                        <td>
                            <select id="item5Qty" name="item5Qty" class="form-select">
                                <option value="0">-</option>
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5</option>
                                <option value="6">6</option>
                                <option value="7">7</option>
                                <option value="8">8</option>
                                <option value="9">9</option>
                                <option value="10">10</option>
                            </select>
                        </td>
                    </tr>
                    <!-- Row for the 6th item ID -->
                    <tr id="item6" >
                        <th><label for="item6ID">Item 6:</label></th>
                        <td>
                            <select id="item6ID" name="item6ID" class="form-select">
                                <option value="">-</option>
                                <option value="1">Canon EOS 250D SLR Camera Body Black</option>
                                <option value="2">Nikon Z30 Digital Camera Black</option>
                                <option value="3">Canon Zoemini S2 ZV223 Instant Camera Colour Photo Printer</option>
                                <option value="4">Canon CP1500BK Photo Printer</option>
                                <option value="5">Canon EF 50MM F/1.8 STM Camera Lens</option>
                                <option value="6">Lexar 128GB SDXC Card 1667X Professional</option>
                                <option value="7">Hama 4163 Stativ Star Tripod</option>
                            </select>
                        </td>
                    </tr>
                    <!-- Row for the 6th item quantity -->
                    <tr id="item6Q">
                        <th><label for="item6Qty">Item 6 Quantity:</label></th>
                        <td>
                            <select id="item6Qty" name="item6Qty" class="form-select">
                                <option value="0">-</option>
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5</option>
                                <option value="6">6</option>
                                <option value="7">7</option>
                                <option value="8">8</option>
                                <option value="9">9</option>
                                <option value="10">10</option>
                            </select>
                        </td>
                    </tr>
                    <!-- Row for the last item ID -->
                    <tr id="item7" >
                        <th><label for="item7ID">Item 7:</label></th>
                        <td>
                            <select id="item7ID" name="item7ID" class="form-select">
                                <option value="">-</option>
                                <option value="1">Canon EOS 250D SLR Camera Body Black</option>
                                <option value="2">Nikon Z30 Digital Camera Black</option>
                                <option value="3">Canon Zoemini S2 ZV223 Instant Camera Colour Photo Printer</option>
                                <option value="4">Canon CP1500BK Photo Printer</option>
                                <option value="5">Canon EF 50MM F/1.8 STM Camera Lens</option>
                                <option value="6">Lexar 128GB SDXC Card 1667X Professional</option>
                                <option value="7">Hama 4163 Stativ Star Tripod</option>
                            </select>
                        </td>
                    </tr>
                    <!-- Row for the last item quantity -->
                    <tr id="item7Q">
                        <th><label for="item7Qty">Item 7 Quantity:</label></th>
                        <td>
                            <select id="item7Qty" name="item7Qty" class="form-select">
                                <option value="0">-</option>
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5</option>
                                <option value="6">6</option>
                                <option value="7">7</option>
                                <option value="8">8</option>
                                <option value="9">9</option>
                                <option value="10">10</option>
                            </select>
                        </td>
                    </tr>
                </table>
                <!-- Container for buttons of the form -->
                <div class="button-group">
                    <!-- Button for generating the bill -->
                    <input type="submit" class="btn" value="Generate Bill"/>
                    <!-- Reset button to clear the form -->
                    <input type="reset" class="btn"/>
                </div>
            </form>
            <!-- Container for the bill-->
            <div id="bill-container"></div>
            <!-- Heading element for total amount -->
            <h4 id="total-amount"></h4>
        </div>

        <!-- Footer -->
        <footer>
            <p>&copy; 2024 LENS AND LIGHT. All Rights Reserved.</p>
            <p>Contact us: <a href="mailto:info@lensandlight.com">info@lensandlight.com</a> | Phone: +1-800-123-4567</p>
            <p>Follow us on:
                <span class="social-icons">
                    <a href="https://www.instagram.com/photonewspn/?hl=en"><i class="fab fa-instagram"></i></a>
                    <a href="https://twitter.com/photonewspn"><i class="fab fa-twitter"></i></a>
                </span>
            </p>
        </footer>
    </body>
</html>
